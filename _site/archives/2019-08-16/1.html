<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1" /> <title>RGPerson - 随机身份生成脚本 · Chen's Blog</title> <meta name="description" content="RGPerson"> <meta name="keywords" content="RGPerson"> <link rel="icon" href="http://localhost:4000/assets/favicon.png"> <link rel="apple-touch-icon" href="http://localhost:4000/assets/touch-icon.png"> <link rel="stylesheet" href="http://localhost:4000/assets/core.css"> <link rel="canonical" href="http://localhost:4000/archives/2019-08-16/1"> <link rel="alternate" type="application/atom+xml" title="Chen's Blog" href="http://localhost:4000/feed.xml" /> <link href="/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" media="all" /> <script> var _hmt = _hmt || []; (function() { var hm = document.createElement("script"); hm.src = "https://hm.baidu.com/hm.js?e4a42a371cc5994ee02b940034c29658"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s); })(); </script> </head> <body> <aside class="logo"> <a href="http://localhost:4000/"> <img src="/assets/avatar.jpg" class="logo-avatar"> </a> <span class="logo-prompt code">Back to Index</span> </aside> <article> <h1 class="title">EvilChen</h1> <div class="divider"></div> <center> <a href="https://github.com/gh0stkey" target="_blank">Github</a> | <a href="https://twitter.com/VulkeyChen" target="_blank">X (Twitter)</a> | <a href="/about" target="_blank">About</a> | <a href="/friends" target="_blank">Friends</a> </center> <div class="divider"></div> </article> <div id="content"> <article> <div class="center"> <h1 class="title">RGPerson - 随机身份生成脚本</h1> <time class="code">August 16, 2019</time> </div> <div class="divider"></div> <h1 id="rgperson">RGPerson</h1> <p>项目地址：<a href="https://github.com/gh0stkey/RGPerson">https://github.com/gh0stkey/RGPerson</a></p> <p>RGPerson - 随机身份生成</p> <p>环境：python3</p> <p>使用方法：python3 RGPerson.py</p> <p><img src="/images/2019-08-16/0.png" alt="rgperson" /></p> <h2 id="为什么需要ta">为什么需要Ta</h2> <p>相信很多师傅们在做测试的时候经常遇到一些注册的业务功能，要填写的东西很多，我一般都是临时去百度用的信息，这样很繁琐所以决定造轮子撸了个随机身份生成的。</p> <h2 id="介绍">介绍</h2> <p>该脚本生成信息：姓名\年龄\性别\身份证\手机号\组织机构代码\统一社会信用代码</p> <h2 id="脚本编写原理">脚本编写原理</h2> <p><strong>脚本的函数：</strong> genMobile()、genIdCard()、genName()、genOrgCode()、genCreditCode()</p> <p>genMobile() 为随机生成手机号的函数</p> <p>genName() 为随机生成姓名的函数</p> <p>genIdCard() 为随机生成身份证的函数</p> <p>genOrgCode() 为随机生成组织机构代码的函数</p> <p>genCreditCode() 为随机生成统一社会信用代码的函数</p> <h3 id="genmobile">genMobile()</h3> <p>随机生成手机号：需要知道国内手机号的构成</p> <p>1.长度为十一位</p> <p>2.前三位表示运营商</p> <p>现在我们只需要做到收集手机号号段的前三位以及对应的运营商：</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">prelist</span> <span class="o">=</span> <span class="p">{</span><span class="s">"133"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"149"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"153"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"173"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"177"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"180"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"181"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"189"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"199"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"130"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"131"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"132"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"145"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"155"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"156"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"166"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"171"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"175"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"176"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"185"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"186"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"166"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"134"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"135"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"136"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"137"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"138"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"139"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"147"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"150"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"151"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"152"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"157"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"158"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"159"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"172"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"178"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"182"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"183"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"184"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"187"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"188"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"198"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">}</span>
</code></pre></div></div> <p>获取该数组的长度：len(prelist) -&gt; 42</p> <p>随机生成下标获取三位数：<code class="language-plaintext highlighter-rouge">prelist.keys()[random.randint(0,41)]</code></p> <p>然后再随机填补后8位即可：</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">genMobile</span><span class="p">():</span>
    <span class="n">prelist</span> <span class="o">=</span> <span class="p">{</span><span class="s">"133"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"149"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"153"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"173"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"177"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"180"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"181"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"189"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"199"</span><span class="p">:</span><span class="s">"电信"</span><span class="p">,</span><span class="s">"130"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"131"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"132"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"145"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"155"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"156"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"166"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"171"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"175"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"176"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"185"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"186"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"166"</span><span class="p">:</span><span class="s">"联通"</span><span class="p">,</span><span class="s">"134"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"135"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"136"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"137"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"138"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"139"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"147"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"150"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"151"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"152"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"157"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"158"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"159"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"172"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"178"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"182"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"183"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"184"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"187"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"188"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">,</span><span class="s">"198"</span><span class="p">:</span><span class="s">"移动"</span><span class="p">}</span>
    <span class="n">three</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">prelist</span><span class="p">.</span><span class="n">keys</span><span class="p">())[</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">prelist</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
    <span class="n">mobile</span> <span class="o">=</span> <span class="n">three</span> <span class="o">+</span> <span class="s">""</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="s">"0123456789"</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span>
    <span class="n">op</span> <span class="o">=</span> <span class="n">prelist</span><span class="p">[</span><span class="n">three</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">mobile</span><span class="p">:</span><span class="n">op</span><span class="p">}</span>
</code></pre></div></div> <h3 id="genname">genName()</h3> <p>随机生成姓名：中文名字通常为2、3位汉字组成</p> <p>1.收集常用的姓氏随机取其一个：</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">first_name</span><span class="p">():</span>
    <span class="n">first_name_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">'赵'</span><span class="p">,</span> <span class="s">'钱'</span><span class="p">,</span> <span class="s">'孙'</span><span class="p">,</span> <span class="s">'李'</span><span class="p">,</span> <span class="s">'周'</span><span class="p">,</span> <span class="s">'吴'</span><span class="p">,</span> <span class="s">'郑'</span><span class="p">,</span> <span class="s">'王'</span><span class="p">,</span> <span class="s">'冯'</span><span class="p">,</span> <span class="s">'陈'</span><span class="p">,</span> <span class="s">'褚'</span><span class="p">,</span> <span class="s">'卫'</span><span class="p">,</span> <span class="s">'蒋'</span><span class="p">,</span> <span class="s">'沈'</span><span class="p">,</span> <span class="s">'韩'</span><span class="p">,</span> <span class="s">'杨'</span><span class="p">,</span> <span class="s">'朱'</span><span class="p">,</span> <span class="s">'秦'</span><span class="p">,</span> <span class="s">'尤'</span><span class="p">,</span> <span class="s">'许'</span><span class="p">,</span>
                <span class="s">'何'</span><span class="p">,</span> <span class="s">'吕'</span><span class="p">,</span> <span class="s">'施'</span><span class="p">,</span> <span class="s">'张'</span><span class="p">,</span> <span class="s">'孔'</span><span class="p">,</span> <span class="s">'曹'</span><span class="p">,</span> <span class="s">'严'</span><span class="p">,</span> <span class="s">'华'</span><span class="p">,</span> <span class="s">'金'</span><span class="p">,</span> <span class="s">'魏'</span><span class="p">,</span> <span class="s">'陶'</span><span class="p">,</span> <span class="s">'姜'</span><span class="p">,</span> <span class="s">'戚'</span><span class="p">,</span> <span class="s">'谢'</span><span class="p">,</span> <span class="s">'邹'</span><span class="p">,</span> <span class="s">'喻'</span><span class="p">,</span> <span class="s">'柏'</span><span class="p">,</span> <span class="s">'水'</span><span class="p">,</span> <span class="s">'窦'</span><span class="p">,</span> <span class="s">'章'</span><span class="p">,</span>
                <span class="s">'云'</span><span class="p">,</span> <span class="s">'苏'</span><span class="p">,</span> <span class="s">'潘'</span><span class="p">,</span> <span class="s">'葛'</span><span class="p">,</span> <span class="s">'奚'</span><span class="p">,</span> <span class="s">'范'</span><span class="p">,</span> <span class="s">'彭'</span><span class="p">,</span> <span class="s">'郎'</span><span class="p">,</span> <span class="s">'鲁'</span><span class="p">,</span> <span class="s">'韦'</span><span class="p">,</span> <span class="s">'昌'</span><span class="p">,</span> <span class="s">'马'</span><span class="p">,</span> <span class="s">'苗'</span><span class="p">,</span> <span class="s">'凤'</span><span class="p">,</span> <span class="s">'花'</span><span class="p">,</span> <span class="s">'方'</span><span class="p">,</span> <span class="s">'俞'</span><span class="p">,</span> <span class="s">'任'</span><span class="p">,</span> <span class="s">'袁'</span><span class="p">,</span> <span class="s">'柳'</span><span class="p">,</span>
                <span class="s">'酆'</span><span class="p">,</span> <span class="s">'鲍'</span><span class="p">,</span> <span class="s">'史'</span><span class="p">,</span> <span class="s">'唐'</span><span class="p">,</span> <span class="s">'费'</span><span class="p">,</span> <span class="s">'廉'</span><span class="p">,</span> <span class="s">'岑'</span><span class="p">,</span> <span class="s">'薛'</span><span class="p">,</span> <span class="s">'雷'</span><span class="p">,</span> <span class="s">'贺'</span><span class="p">,</span> <span class="s">'倪'</span><span class="p">,</span> <span class="s">'汤'</span><span class="p">,</span> <span class="s">'滕'</span><span class="p">,</span> <span class="s">'殷'</span><span class="p">,</span> <span class="s">'罗'</span><span class="p">,</span> <span class="s">'毕'</span><span class="p">,</span> <span class="s">'郝'</span><span class="p">,</span> <span class="s">'邬'</span><span class="p">,</span> <span class="s">'安'</span><span class="p">,</span> <span class="s">'常'</span><span class="p">,</span>
                <span class="s">'乐'</span><span class="p">,</span> <span class="s">'于'</span><span class="p">,</span> <span class="s">'时'</span><span class="p">,</span> <span class="s">'傅'</span><span class="p">,</span> <span class="s">'皮'</span><span class="p">,</span> <span class="s">'卞'</span><span class="p">,</span> <span class="s">'齐'</span><span class="p">,</span> <span class="s">'康'</span><span class="p">,</span> <span class="s">'伍'</span><span class="p">,</span> <span class="s">'余'</span><span class="p">,</span> <span class="s">'元'</span><span class="p">,</span> <span class="s">'卜'</span><span class="p">,</span> <span class="s">'顾'</span><span class="p">,</span> <span class="s">'孟'</span><span class="p">,</span> <span class="s">'平'</span><span class="p">,</span> <span class="s">'黄'</span><span class="p">,</span> <span class="s">'和'</span><span class="p">,</span> <span class="s">'穆'</span><span class="p">,</span> <span class="s">'萧'</span><span class="p">,</span> <span class="s">'尹'</span><span class="p">,</span>
                <span class="s">'姚'</span><span class="p">,</span> <span class="s">'邵'</span><span class="p">,</span> <span class="s">'堪'</span><span class="p">,</span> <span class="s">'汪'</span><span class="p">,</span> <span class="s">'祁'</span><span class="p">,</span> <span class="s">'毛'</span><span class="p">,</span> <span class="s">'禹'</span><span class="p">,</span> <span class="s">'狄'</span><span class="p">,</span> <span class="s">'米'</span><span class="p">,</span> <span class="s">'贝'</span><span class="p">,</span> <span class="s">'明'</span><span class="p">,</span> <span class="s">'臧'</span><span class="p">,</span> <span class="s">'计'</span><span class="p">,</span> <span class="s">'伏'</span><span class="p">,</span> <span class="s">'成'</span><span class="p">,</span> <span class="s">'戴'</span><span class="p">,</span> <span class="s">'谈'</span><span class="p">,</span> <span class="s">'宋'</span><span class="p">,</span> <span class="s">'茅'</span><span class="p">,</span> <span class="s">'庞'</span><span class="p">,</span>
                <span class="s">'熊'</span><span class="p">,</span> <span class="s">'纪'</span><span class="p">,</span> <span class="s">'舒'</span><span class="p">,</span> <span class="s">'屈'</span><span class="p">,</span> <span class="s">'项'</span><span class="p">,</span> <span class="s">'祝'</span><span class="p">,</span> <span class="s">'董'</span><span class="p">,</span> <span class="s">'梁'</span><span class="p">]</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">first_name_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">f_name</span> <span class="o">=</span> <span class="n">first_name_list</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">f_name</span>
</code></pre></div></div> <p>2.这里一开始想搜罗常用的名字，但参考了其他师傅的代码发现随机生成中文字符更好一点：</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">GBK2312</span><span class="p">():</span>
    <span class="n">head</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mh">0xb0</span><span class="p">,</span> <span class="mh">0xf7</span><span class="p">)</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mh">0xa1</span><span class="p">,</span> <span class="mh">0xf9</span><span class="p">)</span>
    <span class="n">val</span> <span class="o">=</span> <span class="sa">f</span><span class="s">'</span><span class="si">{</span><span class="n">head</span><span class="si">:</span><span class="n">x</span><span class="si">}{</span><span class="n">body</span><span class="si">:</span><span class="n">x</span><span class="si">}</span><span class="s">'</span>
    <span class="n">st</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">.</span><span class="n">fromhex</span><span class="p">(</span><span class="n">val</span><span class="p">).</span><span class="n">decode</span><span class="p">(</span><span class="s">'gb2312'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">st</span>
</code></pre></div></div> <p>3.随机生成名字的第二个字：(这里用一个list做一个空值，随机取生成的汉字或空值，<strong>用于成为随机生成2位名字或3位名字</strong>)</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">second_name</span><span class="p">():</span>
    <span class="n">second_name_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">GBK2312</span><span class="p">(),</span> <span class="s">''</span><span class="p">]</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">s_name</span> <span class="o">=</span> <span class="n">second_name_list</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">s_name</span>
</code></pre></div></div> <p>4.随机生成名字的最后一个字：(用于满足三个汉字的名字)</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">last_name</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">GBK2312</span><span class="p">()</span>
</code></pre></div></div> <p>5.拼接</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">last_name</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">GBK2312</span><span class="p">()</span>
</code></pre></div></div> <h3 id="genidcard">genIdCard()</h3> <p>随机生成身份证：公民身份号码是由17位数字码和1位校验码组成</p> <p>18位数字组合的方式是：</p> <table> <thead> <tr> <th>1 1 0 1 0 2</th> <th>Y Y Y Y M M D D</th> <th>8 8</th> <th>8</th> <th>X</th> </tr> </thead> <tbody> <tr> <td>区域码(6位)</td> <td>出生日期码(8位)</td> <td>顺序码(2位)</td> <td>性别码(1位)</td> <td>校验码(1位)</td> </tr> </tbody> </table> <ul> <li>6位区域码爬取http://www.360doc.com/content/12/1010/21/156610_240728293.shtml，存到了<code class="language-plaintext highlighter-rouge">districtcode.py</code></li> </ul> <blockquote> <p><strong>区域码</strong> 指的是公民常住户口所在县（市、镇、区）的<a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E5%8D%8E%E4%BA%BA%E6%B0%91%E5%85%B1%E5%92%8C%E5%9B%BD%E8%A1%8C%E6%94%BF%E5%8C%BA%E5%88%92%E4%BB%A3%E7%A0%81">行政区划代码</a>，如110102是北京市-西城区。但港澳台地区居民的身份号码只精确到省级。</p> </blockquote> <ul> <li>8位出生日期码，具体Python代码如下：</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">age</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">60</span><span class="p">)</span> <span class="c1">#可调整生成的年龄范围（身份证），这边是16-60岁
</span><span class="n">y</span> <span class="o">=</span> <span class="n">date</span><span class="p">.</span><span class="n">today</span><span class="p">().</span><span class="n">year</span> <span class="o">-</span> <span class="n">age</span> <span class="c1">#生成的年份
</span><span class="n">m</span> <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">#生成的月份，初始值为1月1日
</span><span class="n">d</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">364</span><span class="p">))</span> <span class="c1">#随机生成的天数
</span><span class="n">datestring</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="n">d</span><span class="p">)</span> <span class="c1">#加天数得到最终值
</span></code></pre></div></div> <blockquote> <p><strong>出生日期码</strong> 表示公民出生的公历年（4位）、月（2位）、日（2位）。</p> </blockquote> <ul> <li>2位顺序码</li> </ul> <blockquote> <p><strong>顺序码</strong> 表示在同一区域码所标识的区域范围内，对同年、同月、同日出生的人编定的顺序号。</p> </blockquote> <ul> <li>1位性别码</li> </ul> <blockquote> <p><strong>性别码</strong> 奇数表示男性，偶数表示女性。</p> </blockquote> <ul> <li>最后一位是<strong>校验码</strong>，这里采用的是<strong>ISO 7064:1983,MOD 11-2</strong>校验码系统。校验码为一位数，但如果最后采用校验码系统计算的校验码是“10”，碍于身份证号码为18位的规定，则以“X”代替校验码“10”。</li> </ul> <p>最难的还是校验码的算法，参考师傅的解说：</p> <blockquote> <p>1.将前面的身份证号码17位数分别乘以不同的系数。从第一位到第十七位的系数分别为：7 9 10 5 8 4 2 1 6 3 7 9 10 5 8 4 2</p> </blockquote> <blockquote> <p>2.将这17位数字和系数相乘的结果相加。</p> </blockquote> <blockquote> <p>3.用加出来和除以11，得余数</p> </blockquote> <blockquote> <p>4.余数只可能是0 1 2 3 4 5 6 7 8 9 10这11个数字，其分别对应的最后一位身份证的号码为1 0 X 9 8 7 6 5 4 3 2。</p> </blockquote> <blockquote> <p>5.通过上面得知如果余数是2，就会在身份证的第18位数字上出现罗马数字的Ⅹ，如果余数是10，身份证的最后一位号码就是2。</p> </blockquote> <p>测试代码如下，取了几个真实的身份证号码发现可用：</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">id_num</span><span class="p">):</span>
	<span class="n">id_code_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
	<span class="n">check_code_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s">'X'</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
	<span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>
	<span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">id_num</span><span class="p">))</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">17</span><span class="p">):</span>
		<span class="n">a</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">id_num</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">*</span> <span class="n">id_code_list</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)])</span>
	<span class="k">print</span><span class="p">(</span><span class="n">check_code_list</span><span class="p">[</span><span class="n">a</span> <span class="o">%</span> <span class="mi">11</span><span class="p">])</span>
</code></pre></div></div> <p>整合一下（Copy）就变成了如下完整的代码：</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">genIdCard</span><span class="p">(</span><span class="n">age</span><span class="p">,</span><span class="n">gender</span><span class="p">):</span>
    <span class="n">area_code</span> <span class="o">=</span> <span class="p">(</span><span class="s">'%s'</span> <span class="o">%</span> <span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">area_dict</span><span class="p">.</span><span class="n">keys</span><span class="p">())))</span>
    <span class="n">id_code_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
    <span class="n">check_code_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s">'X'</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">area_code</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">area_dict</span><span class="p">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="n">datestring</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="p">(</span><span class="n">date</span><span class="p">.</span><span class="n">today</span><span class="p">().</span><span class="n">year</span> <span class="o">-</span> <span class="n">age</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">364</span><span class="p">))).</span><span class="n">replace</span><span class="p">(</span><span class="s">"-"</span><span class="p">,</span> <span class="s">""</span><span class="p">)</span>
    <span class="n">rd</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">999</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">gender</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">gender_num</span> <span class="o">=</span> <span class="n">rd</span> <span class="k">if</span> <span class="n">rd</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">rd</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">gender_num</span> <span class="o">=</span> <span class="n">rd</span> <span class="k">if</span> <span class="n">rd</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">rd</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">result</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">area_code</span><span class="p">)</span> <span class="o">+</span> <span class="n">datestring</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">gender_num</span><span class="p">).</span><span class="n">zfill</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">result</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">check_code_list</span><span class="p">[</span><span class="nb">sum</span><span class="p">([</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">id_code_list</span><span class="p">,</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">result</span><span class="p">])])</span> <span class="o">%</span> <span class="mi">11</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">b</span>
</code></pre></div></div> <h2 id="参考">参考</h2> <p>https://www.cnblogs.com/evening/archive/2012/04/19/2457440.html</p> <p>https://www.cnblogs.com/thunderLL/p/7682148.html</p> <p>https://blog.csdn.net/ak739105231/article/details/83932151</p> <p>https://github.com/jayknoxqu/id-number-util</p> <p>https://blog.csdn.net/tobacco5648/article/details/50613025</p> <p>https://github.com/xbeginagain/generator</p> </article> <div class="page-navigation code"> <a class="next" href="http://localhost:4000/archives/2019-08-20/1" title="NEXT: TRICK: Linux Auditd审计工具">&lt;&lt;</a> <span> &middot; </span> <a class="home" href="http://localhost:4000/" title="Back to Index">INDEX</a> <span> &middot; </span> <a class="prev" href="http://localhost:4000/archives/2019-06-27/1" title="PREV: 基于BurpSuite快速探测越权-Authz插件">&gt;&gt;</a> </div> </div> <div class="footer"> <span class="block">&lt;/&gt; Copyright &copy; Chen's Blog (GH0ST.CN) 2016-2021</span> </div> <script src="/fancybox/lib/jquery-1.10.2.min.js"></script> <script type="text/javascript" src="/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script> <script> $(document).ready(function() { $("article img").each(function() { var strA = "<a style='text-decoration: none;' id='imgid' href='" + this.src + "'></a>"; $(this).wrapAll(strA); }); $(".block").html("&lt;/&gt; Copyright &copy; Chen's Blog (GH0ST.CN) 2016-" + (new Date()).getFullYear()); }); $("#imgid").fancybox({ openEffect : 'elastic', closeEffect : 'elastic', }); </script> </body> </html>
